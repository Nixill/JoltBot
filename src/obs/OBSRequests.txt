using System.Text.Json.Nodes;

namespace Nixill.Streaming.JoltBot.OBS;

public static class OBSRequests
{
  public static Task ChangeInputText(string inputName, string text, bool isActuallyUUID = false)
    => OBSClient.SendRequest("SetInputSettings", new JsonObject
    {
      [isActuallyUUID ? "inputUuid" : "inputName"] = inputName,
      ["text"] = text
    });

  public static async Task<IEnumerable<int>> GetSceneItemIDs(string inputName, string scene)
    => await OBSClient.SendRequest("GetSceneItemList", new JsonObject
    {
      ["sceneName"] = scene
    })["sceneItems"]
}